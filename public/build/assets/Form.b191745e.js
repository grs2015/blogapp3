import{d as E,u as G,r as y,a as J,w as K,b as c,c as X,o as h,e as $,f as o,g as e,h as l,t as n,i as r,j as w,F,k as Z,l as P,L as ee,m as j,n as k,p as te,H as oe}from"./app.2d2cf3e6.js";import{_ as se,s as ae}from"./breadcrumbsData.2260b39f.js";const le={class:"q-mt-md"},re={class:"row justify-between items-center"},ie={class:"column q-col-gutter-md"},ne={class:"row q-col-gutter-x-md"},de={class:"col q-col-gutter-y-md"},ce={class:"row q-col-gutter-md"},me={class:"col-4"},ue={class:"col q-mb-md"},_e={class:"text-subtitle2 text-primary text-weight-regular"},pe={class:"col"},ge={class:"text-subtitle2 text-primary text-weight-regular"},fe={class:"col-4"},he={class:"col q-mb-md"},be={class:"text-subtitle2 text-primary text-weight-regular"},ve={class:"col"},qe={class:"text-subtitle2 text-primary text-weight-regular"},ye={class:"col-4"},$e={class:"col q-mb-md"},we={class:"text-subtitle2 text-primary text-weight-regular"},Ve={class:"col"},xe={class:"text-subtitle2 text-primary text-weight-regular"},ke={class:"q-col-gutter-md"},Fe={class:"col"},Be={class:"form_header text-subtitle2 text-primary text-weight-regular"},Se={class:"q-col-gutter-md"},Ue={class:"col"},Ce={class:"column"},Re={class:"text-subtitle2 text-primary text-weight-regular"},Pe={class:"text-subtitle2 text-primary text-weight-regular q-mt-md"},je={class:"row"},Ee={class:"col-3 relative-position"},Ne={class:"absolute-full flex flex-center bg-grey-3 text-accent"},ze={key:1,class:"light-dimmed transparent absolute-full bg-grey-3"},He={key:1,class:"text-subtitle2 text-primary text-weight-regular q-mt-md"},De={class:"row justify-between items-center"},Ie={class:"row q-col-gutter-md"},Le={class:"q-ml-sm"},Oe=E({__name:"SettingsForm",props:{data:null},setup(V){var U;const d=V,b=G(),v=y(!1),p=y(!1),x=y(!1),q=y("");typeof d.data.baseinfo.hero_image=="string"&&(q.value=d.data.baseinfo.hero_image.split(",")[0]);const a=J({_method:"put",id:d.data.baseinfo.id,title:d.data.baseinfo.title,meta_title:d.data.baseinfo.meta_title,content:(U=d.data.baseinfo.content)!=null?U:"",hero_image:null,address:d.data.baseinfo.address,email:d.data.baseinfo.email,phone:d.data.baseinfo.phone,website:d.data.baseinfo.website}),N=()=>{a.post("/admin/baseinfos/1",{onSuccess:()=>S(),onError:t=>B(t),onStart:()=>p.value=!0,onFinish:()=>p.value=!1})},z=()=>{a.reset()},H=t=>Object.entries(t).map(i=>i[1]).join(", "),B=t=>{b.notify({type:"negative",message:k("There were errors while updating: ")+H(t)})},S=()=>{b.notify({type:"positive",message:k("The settings data has been updated successfully")}),a.hero_image=null},D=t=>{b.notify({type:"negative",message:t.length+k(" file did not pass validation constraints")})},I=()=>{te.Inertia.delete("/admin/blog_image",{onStart:()=>{v.value=!0,p.value=!0},onSuccess:()=>S(),onError:t=>B(t),onFinish:()=>{v.value=!1,p.value=!1},preserveScroll:!0})};return K(()=>d.data.baseinfo,()=>{typeof d.data.baseinfo.hero_image=="string"&&(q.value=d.data.baseinfo.hero_image.split(",")[0]),d.data.baseinfo.hero_image||(q.value="")}),(t,i)=>{const m=c("q-card-section"),u=c("q-icon"),g=c("q-input"),_=c("q-card"),L=c("q-editor"),O=c("q-file"),C=c("q-spinner-gears"),T=c("q-img"),f=c("q-btn"),A=c("q-spinner-hourglass"),M=c("q-form"),Q=c("q-avatar"),W=c("q-card-actions"),Y=c("q-dialog"),R=X("close-popup");return h(),$(F,null,[o("div",le,[e(M,{onSubmit:N},{default:l(()=>[e(_,{flat:"",bordered:""},{default:l(()=>[e(m,{class:"text-primary text-h6"},{default:l(()=>[o("div",re,[o("div",null,n(t.$t("Blog Settings")),1)])]),_:1}),e(m,null,{default:l(()=>[o("div",ie,[o("div",ne,[o("div",de,[o("div",ce,[o("div",me,[e(_,{flat:"",bordered:""},{default:l(()=>[e(m,null,{default:l(()=>[o("div",ue,[o("div",_e,n(t.$t("Blog title")),1),e(g,{modelValue:r(a).title,"onUpdate:modelValue":i[0]||(i[0]=s=>r(a).title=s),dense:"","data-test":"title-input",rules:[s=>!!s||t.$t("Field is required"),s=>s.length<=40||t.$t("Please use maximum characters: ")+"40"],ref:"titleRef","error-message":r(a).errors.title,error:!!r(a).errors.title,"bottom-slots":"",clearable:"","clear-icon":"close"},{prepend:l(()=>[e(u,{name:"edit",color:"orange"})]),_:1},8,["modelValue","rules","error-message","error"])]),o("div",pe,[o("div",ge,n(t.$t("Blog meta title (SEO)")),1),e(g,{modelValue:r(a).meta_title,"onUpdate:modelValue":i[1]||(i[1]=s=>r(a).meta_title=s),dense:"","data-test":"meta-input",ref:"metaRef","error-message":r(a).errors.meta_title,error:!!r(a).errors.meta_title,"bottom-slots":"",clearable:"","clear-icon":"close"},{prepend:l(()=>[e(u,{name:"ads_click",color:"orange"})]),_:1},8,["modelValue","error-message","error"])])]),_:1})]),_:1})]),o("div",fe,[e(_,{flat:"",bordered:""},{default:l(()=>[e(m,null,{default:l(()=>[o("div",he,[o("div",be,n(t.$t("Phone")),1),e(g,{modelValue:r(a).phone,"onUpdate:modelValue":i[2]||(i[2]=s=>r(a).phone=s),type:"tel",dense:"","data-test":"phone-input",rules:[s=>!!s||t.$t("Field is required"),s=>s.length<=20||t.$t("Please use maximum characters: ")+"20"],ref:"phoneRef","error-message":r(a).errors.phone,error:!!r(a).errors.phone,"bottom-slots":"",clearable:"","clear-icon":"close"},{prepend:l(()=>[e(u,{name:"phone_iphone",color:"orange"})]),_:1},8,["modelValue","rules","error-message","error"])]),o("div",ve,[o("div",qe,n(t.$t("Email")),1),e(g,{modelValue:r(a).email,"onUpdate:modelValue":i[3]||(i[3]=s=>r(a).email=s),type:"email",dense:"","data-test":"email-input",rules:[s=>!!s||t.$t("Field is required"),s=>s.length<=100||t.$t("Please use maximum characters: ")+"100"],ref:"emailRef","error-message":r(a).errors.email,error:!!r(a).errors.email,"bottom-slots":"",clearable:"","clear-icon":"close"},{prepend:l(()=>[e(u,{name:"email",color:"orange"})]),_:1},8,["modelValue","rules","error-message","error"])])]),_:1})]),_:1})]),o("div",ye,[e(_,{flat:"",bordered:""},{default:l(()=>[e(m,null,{default:l(()=>[o("div",$e,[o("div",we,n(t.$t("Address")),1),e(g,{modelValue:r(a).address,"onUpdate:modelValue":i[4]||(i[4]=s=>r(a).address=s),dense:"","data-test":"title-input",rules:[s=>!!s||t.$t("Field is required"),s=>s.length<=100||t.$t("Please use maximum characters: ")+"100"],ref:"addressRef","error-message":r(a).errors.address,error:!!r(a).errors.address,"bottom-slots":"",clearable:"","clear-icon":"close"},{prepend:l(()=>[e(u,{name:"business",color:"orange"})]),_:1},8,["modelValue","rules","error-message","error"])]),o("div",Ve,[o("div",xe,n(t.$t("Website")),1),e(g,{modelValue:r(a).meta_title,"onUpdate:modelValue":i[5]||(i[5]=s=>r(a).meta_title=s),dense:"","data-test":"web-input",ref:"webRef",rules:[s=>!!s||t.$t("Field is required"),s=>s.length<=100||t.$t("Please use maximum characters: ")+"100"],"error-message":r(a).errors.website,error:!!r(a).errors.website,"bottom-slots":"",clearable:"","clear-icon":"close"},{prepend:l(()=>[e(u,{name:"language",color:"orange"})]),_:1},8,["modelValue","rules","error-message","error"])])]),_:1})]),_:1})])]),o("div",ke,[o("div",Fe,[e(_,{flat:"",bordered:""},{default:l(()=>[e(m,null,{default:l(()=>[o("div",Be,n(t.$t("Blog information")),1),e(L,{placeholder:t.$t("Start creating here..."),modelValue:r(a).content,"onUpdate:modelValue":i[6]||(i[6]=s=>r(a).content=s),"min-height":"5rem"},null,8,["placeholder","modelValue"])]),_:1})]),_:1})])]),o("div",Se,[o("div",Ue,[e(_,{flat:"",bordered:""},{default:l(()=>[e(m,null,{default:l(()=>[o("div",Ce,[o("div",Re,n(t.$t("Pick new blog image")),1),e(O,{"max-file-size":"1024000",modelValue:r(a).hero_image,"onUpdate:modelValue":i[7]||(i[7]=s=>r(a).hero_image=s),counter:"","max-files":"1","use-chips":"",accept:".jpg, .png, image/*",onRejected:D},{prepend:l(()=>[e(u,{color:"orange",name:"image"})]),hint:l(()=>[w(n(t.$t("Only image format file, max. size < 1 MB")),1)]),_:1},8,["modelValue"]),q.value?(h(),$(F,{key:0},[o("div",Pe,n(t.$t("Current blog image")),1),o("div",je,[o("div",Ee,[e(T,{fit:"cover",height:"200px",class:"rounded-borders",src:q.value},{loading:l(()=>[e(C,{color:"accent"})]),error:l(()=>[o("div",Ne,n(t.$t("Cannot load image")),1)]),_:1},8,["src"]),e(f,{disable:p.value,round:"",icon:"delete",color:"accent",class:"absolute-top-right",style:{top:"5px",right:"5px"},onClick:I},null,8,["disable"]),v.value?(h(),Z(C,{key:0,size:"4em",class:"absolute-center z-max",color:"accent"})):P("",!0),v.value?(h(),$("div",ze)):P("",!0)])])],64)):(h(),$("div",He,n(t.$t("No blog image attached at this time")),1))])]),_:1})]),_:1})])])])])])]),_:1}),e(m,null,{default:l(()=>[o("div",De,[o("div",null,[e(f,{outline:"",color:"negative",onClick:i[8]||(i[8]=s=>x.value=!0),disable:r(a).processing},{default:l(()=>[w(n(t.$t("Reset")),1)]),_:1},8,["disable"])]),o("div",Ie,[o("div",null,[e(r(ee),{as:"div",href:t.route("admin.index")},{default:l(()=>[e(f,{outline:"",color:"secondary",disable:r(a).processing},{default:l(()=>[w(n(t.$t("Back")),1)]),_:1},8,["disable"])]),_:1},8,["href"])]),o("div",null,[e(f,{type:"submit",outline:"",color:"primary",loading:r(a).processing},{loading:l(()=>[e(A)]),default:l(()=>[w(n(t.$t("Update"))+" ",1)]),_:1},8,["loading"])])])])]),_:1})]),_:1})]),_:1})]),e(Y,{modelValue:x.value,"onUpdate:modelValue":i[9]||(i[9]=s=>x.value=s),persistent:""},{default:l(()=>[e(_,null,{default:l(()=>[e(m,{class:"row items-center bg-red-1"},{default:l(()=>[e(Q,{icon:"front_hand",color:"negative","text-color":"white"}),o("span",Le,n(t.$t("You can lose all of your data put in the form")),1)]),_:1}),e(W,{align:"right"},{default:l(()=>[j(e(f,{flat:"",label:t.$t("Cancel"),color:"primary"},null,8,["label"]),[[R]]),j(e(f,{flat:"",label:t.$t("Reset"),color:"negative",onClick:z},null,8,["label"]),[[R]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),Me=E({__name:"Form",props:{model:null},setup(V){const d=V,b=y(ae);return(v,p)=>(h(),$(F,null,[e(r(oe),{title:"Blog Settings"}),e(se,{data:b.value},null,8,["data"]),e(Oe,{data:d.model},null,8,["data"])],64))}});export{Me as default};
