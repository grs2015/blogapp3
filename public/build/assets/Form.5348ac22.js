import{d as S,u as Q,r as b,a as C,b as d,c as Y,o as x,e as k,f as o,g as e,h as t,j as v,t as u,i as s,L as z,m as F,F as E,n as h,H as A}from"./app.2d2cf3e6.js";import{t as G,k as I,_ as J}from"./breadcrumbsData.2260b39f.js";const K={class:"q-mt-md"},W={class:"column q-col-gutter-md"},X={class:"row q-col-gutter-md"},Z={class:"col-6"},ee={class:"col q-mb-md"},te={class:"form_header text-subtitle2 text-primary text-weight-regular"},ae={class:"col q-mb-md"},oe={class:"form_header text-subtitle2 text-primary text-weight-regular"},se={class:"col-6"},le={class:"col q-mb-md"},ne={class:"form_header text-subtitle2 text-primary text-weight-regular"},re={class:"row justify-between items-center"},ie={class:"row q-col-gutter-md"},de={class:"q-ml-sm","data-test":"reset-text"},ue=S({__name:"TagForm",props:{data:null},setup(q){var V;const r=q,c=Q(),m=b(!0),g=b(!1),y=b(null);let a=C({id:null,title:"",content:"",meta_title:"",slug:""});r.data.tag&&(m.value=!1,a=C({id:r.data.tag.id,title:r.data.tag.title,meta_title:r.data.tag.meta_title,content:(V=r.data.tag.content)!=null?V:"",slug:r.data.tag.slug}));const U=()=>{if(m.value){a.post("/admin/tags",{onSuccess:()=>B(),onError:()=>D()});return}a.put(`/admin/tags/${a.slug}`,{onSuccess:()=>R(),onError:()=>N()})},B=()=>{c.notify({type:"positive",message:h("The tag have been stored successfully")})},D=()=>{c.notify({type:"negative",message:h("There were errors while storing tag")})},R=()=>{c.notify({type:"positive",message:h("The tag have been updated successfully")})},N=()=>{c.notify({type:"negative",message:h("There were errors while updating")})},j=()=>{a.reset(),y.value.resetValidation()};return(n,i)=>{const _=d("q-card-section"),$=d("q-icon"),T=d("q-input"),f=d("q-card"),p=d("q-btn"),H=d("q-spinner-hourglass"),L=d("q-form"),P=d("q-avatar"),M=d("q-card-actions"),O=d("q-dialog"),w=Y("close-popup");return x(),k(E,null,[o("div",K,[e(L,{onSubmit:U},{default:t(()=>[e(f,{flat:"",bordered:""},{default:t(()=>[e(_,{class:"text-primary text-h6"},{default:t(()=>[v(u(m.value?n.$t("Create Tag"):n.$t("Edit Tag")),1)]),_:1}),e(_,null,{default:t(()=>[o("div",W,[o("div",X,[o("div",Z,[e(f,{flat:"",bordered:""},{default:t(()=>[e(_,null,{default:t(()=>[o("div",ee,[o("div",te,u(n.$t("Tag Title")),1),e(T,{modelValue:s(a).title,"onUpdate:modelValue":i[0]||(i[0]=l=>s(a).title=l),dense:"","data-test":"title-input",rules:[l=>!!l||"Field is required",l=>l.length<=30||"Please use maximum 30 characters"],ref_key:"tagTitleRef",ref:y,"error-message":s(a).errors.title,error:s(a).errors.title&&s(a).errors.title.length>0},{prepend:t(()=>[e($,{name:"edit",color:"orange"})]),_:1},8,["modelValue","rules","error-message","error"])]),o("div",ae,[o("div",oe,u(n.$t("Tag Description")),1),e(T,{modelValue:s(a).content,"onUpdate:modelValue":i[1]||(i[1]=l=>s(a).content=l),dense:"","data-test":"description-input",rules:[l=>l.length<=50||"Please use maximum 50 characters"]},{prepend:t(()=>[e($,{name:"edit",color:"orange"})]),_:1},8,["modelValue","rules"])])]),_:1})]),_:1})]),o("div",se,[e(f,{flat:"",bordered:""},{default:t(()=>[e(_,null,{default:t(()=>[o("div",le,[o("div",ne,u(n.$t("Tag Meta Description (SEO)")),1),e(T,{modelValue:s(a).meta_title,"onUpdate:modelValue":i[2]||(i[2]=l=>s(a).meta_title=l),dense:"","data-test":"meta-input"},{prepend:t(()=>[e($,{name:"edit",color:"orange"})]),_:1},8,["modelValue"])])]),_:1})]),_:1})])])])]),_:1}),e(_,null,{default:t(()=>[o("div",re,[o("div",null,[e(p,{outline:"",color:"negative",onClick:i[3]||(i[3]=l=>g.value=!0),disable:s(a).processing},{default:t(()=>[v(u(n.$t("Reset")),1)]),_:1},8,["disable"])]),o("div",ie,[o("div",null,[e(s(z),{as:"div",href:"/admin/tags"},{default:t(()=>[e(p,{outline:"",color:"secondary",disable:s(a).processing},{default:t(()=>[v(u(n.$t("Cancel")),1)]),_:1},8,["disable"])]),_:1})]),o("div",null,[e(p,{type:"submit",outline:"",color:"primary",loading:s(a).processing,"data-test":"submission-button"},{loading:t(()=>[e(H)]),default:t(()=>[v(u(m.value?n.$t("Create"):n.$t("Update"))+" ",1)]),_:1},8,["loading"])])])])]),_:1})]),_:1})]),_:1})]),e(O,{modelValue:g.value,"onUpdate:modelValue":i[4]||(i[4]=l=>g.value=l),persistent:""},{default:t(()=>[e(f,null,{default:t(()=>[e(_,{class:"row items-center bg-red-1"},{default:t(()=>[e(P,{icon:"front_hand",color:"negative","text-color":"white"}),o("span",de,u(n.$t("You can lose all of your data put in the form")),1)]),_:1}),e(M,{align:"right"},{default:t(()=>[F(e(p,{flat:"",label:n.$t("Cancel"),color:"primary"},null,8,["label"]),[[w]]),F(e(p,{flat:"",label:n.$t("Reset"),color:"negative",onClick:j},null,8,["label"]),[[w]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),_e=S({__name:"Form",props:{model:null},setup(q){const r=q,c=b(r.model.tag?I:G),m=r.model.tag?"Edit":"Create";return(g,y)=>(x(),k(E,null,[e(s(A),{title:`Blog Tag - ${s(m)}`},null,8,["title"]),e(J,{data:c.value},null,8,["data"]),e(ue,{data:r.model},null,8,["data"])],64))}});export{_e as default};
