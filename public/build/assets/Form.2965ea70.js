import{d as U,u as G,r as q,a as S,b as n,c as J,o as x,e as w,f as t,g as e,h as o,j as b,t as d,i as s,F as V,q as K,s as E,L as W,m as T,n as v,H as X}from"./app.ea05a65f.js";import{c as Z,a as ee,_ as te}from"./breadcrumbsData.5c06e62c.js";import{_ as oe}from"./_plugin-vue_export-helper.cdc0426e.js";const ae=["search","home","account_circle","settings","language","account_balance","supervisor_account","leaderboard","flight_takeoff","bug_report","alarm","rocket_launch","commute","people_alt","school","sports_esports","sentiment_satisfied","cake","emoji_objects","domain","real_estate_agent","sports_tennis","pages","send","mail","waves","flag_circle","photo_camera","style","category"],se={class:"q-mt-md"},le={class:"column q-col-gutter-md"},re={class:"row q-col-gutter-md"},ne={class:"col column"},ie={class:"col q-mb-md"},ce={class:"form_header text-subtitle2 text-primary text-weight-regular"},de={class:"col q-mb-md"},ue={class:"form_header text-subtitle2 text-primary text-weight-regular"},_e={class:"col q-mb-md"},me={class:"form_header text-subtitle2 text-primary text-weight-regular"},pe={class:"col"},ge={class:"row q-col-gutter-x-md items-stretch"},fe={class:"col-9"},ve={class:"text-subtitle2 text-primary text-weight-regular"},ye={class:"row q-col-gutter-sm"},he={class:"row rounded-borders flex-center bg-grey-5"},be={class:"col-3"},qe={class:"text-subtitle2 text-primary text-weight-regular"},xe={class:"row flex-center",style:{height:"75%"}},we={class:"col-auto"},Ce={class:"form_header text-subtitle2 text-primary text-weight-regular"},$e={class:"row items-center justify-start q-col-gutter-x-md"},ke={class:"text-subtitle2 text-primary text-weight-regular"},Ve={class:"row justify-between items-center"},Fe={class:"row q-col-gutter-md"},Se={class:"q-ml-sm","data-test":"reset-text"},Ee=U({__name:"CategoryForm",props:{data:null},setup(C){const i=C,_=G(),m=q(!0),y=q(!1),$=q(null);let a=S({id:null,title:"",content:"",meta_title:"",icon:"category",color:"#00d600"});i.data.category&&(m.value=!1,a=S({id:i.data.category.id,title:i.data.category.title,meta_title:i.data.category.meta_title,content:i.data.category.content,parent_id:i.data.category.parent_id,slug:i.data.category.slug,icon:i.data.category.icon,color:i.data.category.color}));const B=()=>{if(m.value){a.post("/admin/categories",{onSuccess:()=>j(),onError:()=>D()});return}a.put(`/admin/categories/${a.slug}`,{onSuccess:()=>z(),onError:()=>R()})},j=()=>{_.notify({type:"positive",message:v("The category have been stored successfully")})},D=()=>{_.notify({type:"negative",message:v("There were errors while storing category: ")+a.errors.title})},z=()=>{_.notify({type:"positive",message:v("The category have been updated successfully")})},R=()=>{_.notify({type:"negative",message:v("There were errors while updating: ")+v("validation.required")})},L=()=>{a.reset(),$.value.resetValidation()};return(l,c)=>{const u=n("q-card-section"),g=n("q-icon"),k=n("q-input"),h=n("q-separator"),p=n("q-btn"),f=n("q-card"),N=n("q-expansion-item"),P=n("q-list"),H=n("q-color"),A=n("q-spinner-hourglass"),I=n("q-form"),M=n("q-avatar"),O=n("q-card-actions"),Q=n("q-dialog"),F=J("close-popup");return x(),w(V,null,[t("div",se,[e(I,{onSubmit:B},{default:o(()=>[e(f,{flat:"",bordered:""},{default:o(()=>[e(u,{class:"text-primary text-h6"},{default:o(()=>[b(d(m.value?l.$t("Create Category"):l.$t("Edit Category")),1)]),_:1}),e(u,null,{default:o(()=>[t("div",le,[t("div",re,[t("div",ne,[e(f,{flat:"",bordered:""},{default:o(()=>[e(u,null,{default:o(()=>[t("div",ie,[t("div",ce,d(l.$t("Category Title")),1),e(k,{modelValue:s(a).title,"onUpdate:modelValue":c[0]||(c[0]=r=>s(a).title=r),dense:"","data-test":"title-input",rules:[r=>!!r||"Field is required"],ref_key:"catTitleRef",ref:$},{prepend:o(()=>[e(g,{name:"edit",color:"orange"})]),_:1},8,["modelValue","rules"])]),t("div",de,[t("div",ue,d(l.$t("Category Description")),1),e(k,{modelValue:s(a).content,"onUpdate:modelValue":c[1]||(c[1]=r=>s(a).content=r),dense:"","data-test":"description-input"},{prepend:o(()=>[e(g,{name:"edit",color:"orange"})]),_:1},8,["modelValue"])]),t("div",_e,[t("div",me,d(l.$t("Category Meta Description (SEO)")),1),e(k,{modelValue:s(a).meta_title,"onUpdate:modelValue":c[2]||(c[2]=r=>s(a).meta_title=r),dense:"","data-test":"meta-input"},{prepend:o(()=>[e(g,{name:"edit",color:"orange"})]),_:1},8,["modelValue"])]),t("div",pe,[e(P,{bordered:"",class:"rounded-borders"},{default:o(()=>[e(N,{"expand-separator":"",icon:"find_in_page",label:l.$t("Pick the category icon"),"header-class":"text-primary","data-test":"expanded-list"},{default:o(()=>[e(f,null,{default:o(()=>[e(u,null,{default:o(()=>[t("div",ge,[t("div",fe,[t("div",ve,d(l.$t("Available icons")),1),e(h,{spaced:""}),t("div",ye,[(x(!0),w(V,null,K(s(ae),(r,Y)=>(x(),w("div",{key:Y},[t("div",he,[e(p,{size:"lg",padding:"xs",flat:"",icon:r,class:"text-white",onClick:Ue=>s(a).icon=r},null,8,["icon","onClick"])])]))),128))])]),t("div",be,[t("div",qe,d(l.$t("Picked icon")),1),e(h,{spaced:""}),t("div",xe,[t("div",{class:"row rounded-borders flex-center color-box-pick",style:E({background:s(a).color})},[e(g,{name:s(a).icon,color:"white",size:"xl"},null,8,["name"])],4)])])])]),_:1})]),_:1})]),_:1},8,["label"])]),_:1})])]),_:1})]),_:1})]),t("div",we,[e(f,{flat:"",bordered:""},{default:o(()=>[e(u,{class:"column"},{default:o(()=>[t("div",Ce,d(l.$t("Pick category color")),1),e(h,{spaced:""}),t("div",$e,[t("div",ke,d(l.$t("Example of picked color:")),1),t("div",null,[t("div",{class:"row rounded-borders flex-center color-box",style:E({background:s(a).color})},[e(g,{name:"sentiment_very_satisfied",color:"white",size:"md"})],4)])]),e(h,{spaced:""}),e(H,{modelValue:s(a).color,"onUpdate:modelValue":c[3]||(c[3]=r=>s(a).color=r),flat:"","no-header":"","no-footer":"","default-view":"palette","data-test":"color-picker",class:"cat_color_picker"},null,8,["modelValue"])]),_:1})]),_:1})])])])]),_:1}),e(u,null,{default:o(()=>[t("div",Ve,[t("div",null,[e(p,{outline:"",color:"negative",onClick:c[4]||(c[4]=r=>y.value=!0),disable:s(a).processing},{default:o(()=>[b(d(l.$t("Reset")),1)]),_:1},8,["disable"])]),t("div",Fe,[t("div",null,[e(s(W),{as:"div",href:"/admin/categories"},{default:o(()=>[e(p,{outline:"",color:"secondary",disable:s(a).processing},{default:o(()=>[b(d(l.$t("Cancel")),1)]),_:1},8,["disable"])]),_:1})]),t("div",null,[e(p,{type:"submit",outline:"",color:"primary",loading:s(a).processing,"data-test":"submission-button"},{loading:o(()=>[e(A)]),default:o(()=>[b(d(m.value?l.$t("Create"):l.$t("Update"))+" ",1)]),_:1},8,["loading"])])])])]),_:1})]),_:1})]),_:1})]),e(Q,{modelValue:y.value,"onUpdate:modelValue":c[5]||(c[5]=r=>y.value=r),persistent:""},{default:o(()=>[e(f,null,{default:o(()=>[e(u,{class:"row items-center bg-red-1"},{default:o(()=>[e(M,{icon:"front_hand",color:"negative","text-color":"white"}),t("span",Se,d(l.$t("You can lose all of your data put in the form")),1)]),_:1}),e(O,{align:"right"},{default:o(()=>[T(e(p,{flat:"",label:l.$t("Cancel"),color:"primary"},null,8,["label"]),[[F]]),T(e(p,{flat:"",label:l.$t("Reset"),color:"negative",onClick:L},null,8,["label"]),[[F]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});const Te=oe(Ee,[["__scopeId","data-v-3f330289"]]),ze=U({__name:"Form",props:{model:null},setup(C){const i=C,_=q(i.model.category?ee:Z),m=i.model.category?"Edit":"Create";return(y,$)=>(x(),w(V,null,[e(s(X),{title:`Blog Category - ${s(m)}`},null,8,["title"]),e(te,{data:_.value},null,8,["data"]),e(Te,{data:i.model},null,8,["data"])],64))}});export{ze as default};
