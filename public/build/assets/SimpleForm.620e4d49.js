import{d as P,u as J,r as _,a as B,b as d,c as K,o as h,e as q,f as r,g as e,h as o,t as u,x as $,i as a,l as O,j as U,L as W,m as E,F as T,n as V,H as X}from"./app.ea05a65f.js";import{q as Z,r as ee,_ as se}from"./breadcrumbsData.5c06e62c.js";const te={class:"q-mt-md"},ae={class:"row justify-between items-center"},oe={key:0,class:"row q-gutter-x-sm"},re={key:1},le={class:"column q-col-gutter-md"},ne={class:"row q-col-gutter-x-md"},ie={class:"col"},de={class:"row q-col-gutter-md"},ue={class:"col q-mb-md"},me={class:"text-subtitle2 text-primary text-weight-regular"},ce={class:"col"},pe={class:"text-subtitle2 text-primary text-weight-regular"},_e={class:"col q-mb-md"},fe={class:"text-subtitle2 text-primary text-weight-regular"},be={class:"col"},ve={class:"text-subtitle2 text-primary text-weight-regular"},ge={key:0,class:"col-4"},ye={class:"col q-mb-md"},he={class:"text-subtitle2 text-primary text-weight-regular"},qe={class:"col"},we={class:"text-subtitle2 text-primary text-weight-regular"},$e={class:"row justify-between items-center"},Ve={class:"row q-col-gutter-md"},xe={class:"q-ml-sm","data-test":"reset-text"},ke=P({__name:"UserForm",props:{data:null},setup(x){const i=x,b=J(),m=_(!0),w=_(!1),k=_(null),F=_(null),R=_(null),S=_(null),c=_(!0);let s=B({id:null,email:"",first_name:"",last_name:"",mobile:"",password:"",password_confirmation:""});i.data.user&&(m.value=!1,s=B({id:i.data.user.id,email:i.data.user.email,first_name:i.data.user.first_name,last_name:i.data.user.last_name,mobile:i.data.user.mobile}));const j=()=>{if(m.value){s.post("/admin/users",{onSuccess:()=>D(),onError:()=>L()});return}s.put(`/admin/users/${s.id}`,{onSuccess:()=>H(),onError:()=>z()})},D=()=>{b.notify({type:"positive",message:V("The user has been stored successfully")})},L=()=>{b.notify({type:"negative",message:V("There were errors while storing user")})},H=()=>{b.notify({type:"positive",message:V("The user has been updated successfully")})},z=()=>{b.notify({type:"negative",message:V("There were errors while updating user")})},M=()=>{s.reset(),k.value.resetValidation(),F.value.resetValidation(),R.value.resetValidation(),S.value.resetValidation()};return(l,n)=>{const C=d("q-badge"),f=d("q-card-section"),p=d("q-icon"),v=d("q-input"),g=d("q-card"),y=d("q-btn"),Q=d("q-spinner-hourglass"),Y=d("q-form"),A=d("q-avatar"),G=d("q-card-actions"),I=d("q-dialog"),N=K("close-popup");return h(),q(T,null,[r("div",te,[e(Y,{onSubmit:j},{default:o(()=>[e(g,{flat:"",bordered:""},{default:o(()=>[e(f,{class:"text-primary text-h6"},{default:o(()=>[r("div",ae,[r("div",null,u(m.value?l.$t("Create User"):l.$t("Edit User")),1),m.value?(h(),q("div",re,[e(C,{outline:"",class:"text-accent",label:"admin"})])):(h(),q("div",oe,[e(C,{outline:"",class:$([i.data.user.roles==="member"?"text-primary":"text-accent"]),label:i.data.user.roles},null,8,["class","label"]),e(C,{outline:"",class:$([i.data.user.status==="pending"?"text-red":i.data.user.status==="enabled"?"text-primary":"text-grey"]),label:i.data.user.status},null,8,["class","label"])]))])]),_:1}),e(f,null,{default:o(()=>[r("div",le,[r("div",ne,[r("div",ie,[r("div",de,[r("div",{class:$([m.value?"col-4":"col"])},[e(g,{flat:"",bordered:""},{default:o(()=>[e(f,null,{default:o(()=>[r("div",ue,[r("div",me,u(l.$t("First name")),1),e(v,{modelValue:a(s).first_name,"onUpdate:modelValue":n[0]||(n[0]=t=>a(s).first_name=t),dense:"","data-test":"first_name-input",rules:[t=>!!t||l.$t("Field is required"),t=>t.length<=40||l.$t("Please use maximum characters: ")+"40"],ref_key:"fNameRef",ref:k,"error-message":a(s).errors.first_name,error:!!a(s).errors.first_name,"bottom-slots":"",clearable:"","clear-icon":"close"},{prepend:o(()=>[e(p,{name:"edit",color:"orange"})]),_:1},8,["modelValue","rules","error-message","error"])]),r("div",ce,[r("div",pe,u(l.$t("Last name")),1),e(v,{modelValue:a(s).last_name,"onUpdate:modelValue":n[1]||(n[1]=t=>a(s).last_name=t),dense:"","data-test":"last_name-input",rules:[t=>!!t||l.$t("Field is required"),t=>t.length<=40||l.$t("Please use maximum characters: ")+"40"],ref_key:"lNameRef",ref:F,"error-message":a(s).errors.last_name,error:!!a(s).errors.last_name,"bottom-slots":"",clearable:"","clear-icon":"close"},{prepend:o(()=>[e(p,{name:"edit",color:"orange"})]),_:1},8,["modelValue","rules","error-message","error"])])]),_:1})]),_:1})],2),r("div",{class:$([m.value?"col-4":"col"])},[e(g,{flat:"",bordered:""},{default:o(()=>[e(f,null,{default:o(()=>[r("div",_e,[r("div",fe,u(l.$t("Mobile")),1),e(v,{modelValue:a(s).mobile,"onUpdate:modelValue":n[2]||(n[2]=t=>a(s).mobile=t),type:"tel",dense:"","data-test":"mobile-input",rules:[t=>!!t||l.$t("Field is required"),t=>t.length<=20||l.$t("Please use maximum characters: ")+"20"],ref_key:"mobileRef",ref:S,"error-message":a(s).errors.mobile,error:!!a(s).errors.mobile,"bottom-slots":"",clearable:"","clear-icon":"close"},{prepend:o(()=>[e(p,{name:"phone_iphone",color:"orange"})]),_:1},8,["modelValue","rules","error-message","error"])]),r("div",be,[r("div",ve,u(l.$t("Email")),1),e(v,{modelValue:a(s).email,"onUpdate:modelValue":n[3]||(n[3]=t=>a(s).email=t),type:"email",dense:"","data-test":"email-input",rules:[t=>!!t||l.$t("Field is required"),t=>t.length<=100||l.$t("Please use maximum characters: ")+"100"],ref_key:"emailRef",ref:R,"error-message":a(s).errors.email,error:!!a(s).errors.email,"bottom-slots":"",clearable:"","clear-icon":"close"},{prepend:o(()=>[e(p,{name:"email",color:"orange"})]),_:1},8,["modelValue","rules","error-message","error"])])]),_:1})]),_:1})],2),m.value?(h(),q("div",ge,[e(g,{flat:"",bordered:""},{default:o(()=>[e(f,null,{default:o(()=>[r("div",ye,[r("div",he,u(l.$t("Password")),1),e(v,{modelValue:a(s).password,"onUpdate:modelValue":n[5]||(n[5]=t=>a(s).password=t),dense:"",clearable:"","clear-icon":"close",type:c.value?"password":"text","bottom-slots":"","error-message":a(s).errors.password,error:!!a(s).errors.password,disable:a(s).processing},{prepend:o(()=>[e(p,{name:"key",color:"orange"})]),append:o(()=>[e(p,{name:c.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:n[4]||(n[4]=t=>c.value=!c.value)},null,8,["name"])]),_:1},8,["modelValue","type","error-message","error","disable"])]),r("div",qe,[r("div",we,u(l.$t("Password confirmation")),1),e(v,{modelValue:a(s).password_confirmation,"onUpdate:modelValue":n[7]||(n[7]=t=>a(s).password_confirmation=t),dense:"",clearable:"","clear-icon":"close",type:c.value?"password":"text","bottom-slots":"","error-message":a(s).errors.password_confirmation,error:!!a(s).errors.password_confirmation,disable:a(s).processing},{prepend:o(()=>[e(p,{name:"key",color:"orange"})]),append:o(()=>[e(p,{name:c.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:n[6]||(n[6]=t=>c.value=!c.value)},null,8,["name"])]),_:1},8,["modelValue","type","error-message","error","disable"])])]),_:1})]),_:1})])):O("",!0)])])])])]),_:1}),e(f,null,{default:o(()=>[r("div",$e,[r("div",null,[e(y,{outline:"",color:"negative",onClick:n[8]||(n[8]=t=>w.value=!0),disable:a(s).processing},{default:o(()=>[U(u(l.$t("Reset")),1)]),_:1},8,["disable"])]),r("div",Ve,[r("div",null,[e(a(W),{as:"div",href:"/admin/users"},{default:o(()=>[e(y,{outline:"",color:"secondary",disable:a(s).processing},{default:o(()=>[U(u(l.$t("Back")),1)]),_:1},8,["disable"])]),_:1})]),r("div",null,[e(y,{type:"submit",outline:"",color:"primary",loading:a(s).processing,"data-test":"submission-button"},{loading:o(()=>[e(Q)]),default:o(()=>[U(u(m.value?l.$t("Create"):l.$t("Update"))+" ",1)]),_:1},8,["loading"])])])])]),_:1})]),_:1})]),_:1})]),e(I,{modelValue:w.value,"onUpdate:modelValue":n[9]||(n[9]=t=>w.value=t),persistent:""},{default:o(()=>[e(g,null,{default:o(()=>[e(f,{class:"row items-center bg-red-1"},{default:o(()=>[e(A,{icon:"front_hand",color:"negative","text-color":"white"}),r("span",xe,u(l.$t("You can lose all of your data put in the form")),1)]),_:1}),e(G,{align:"right"},{default:o(()=>[E(e(y,{flat:"",label:l.$t("Cancel"),color:"primary"},null,8,["label"]),[[N]]),E(e(y,{flat:"",label:l.$t("Reset"),color:"negative",onClick:M},null,8,["label"]),[[N]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),Fe=P({__name:"SimpleForm",props:{model:null},setup(x){const i=x,b=_(i.model.user?ee:Z),m=i.model.user?"Edit":"Create";return(w,k)=>(h(),q(T,null,[e(a(X),{title:`Blog User - ${a(m)}`},null,8,["title"]),e(se,{data:b.value},null,8,["data"]),e(ke,{data:i.model},null,8,["data"])],64))}});export{Fe as default};
